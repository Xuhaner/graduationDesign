#基于web端的问卷调查系统

##基于web端的问卷调查系统 — Model（模型层）View（视觉层）Control（控制层）

- 【摘要】

  现代社会中，办公等工作越来越电子化，纸质物品逐渐离开大众的视野，电子化办公才是当前的主旨。问卷的形式，最开始为使用纸质印刷问卷，进行人工的分发，之后收回问卷，再一步步的进行数据的分析和统计，整个过程耗时耗力，且调查范围极其有限。到了互联网时代，通过网络进行调查有诸多好处。例如对于问卷的创建、发放、回收、分析的过程都可以节约大量时间。当然除了时间上的节省，对于问卷而言的另一个核心要素，用户的样本广度与深度也能有大幅度的提升。这对于传统的问卷行业是一个颠覆性的创造。与此同时，各类集体也需要一个统一的平台进行调查以及整理意见，以此推动整体项目的前进，改进团队的优劣处。因此大批量的web端问卷调查系统涌现了出来，但是对于市面上大部分的问卷系统而言，除了原有问卷系统的创建、分析等基础功能外，并没有一家系统对团体进行整体的规划，对于特定团队进行调查的情况还不能很方便的进行。因此本次设计就是基于此种状况，设计的问卷调查系统。除了主流市场上应有的问卷基础功能：创建问卷、问卷修改、问卷分析，团队问卷的管理是此次研究系统的主要功能点。

  整体而言，使用JSP作为主要技术导向。使用MVC框架进行构建，既模型层（Model）程序特定域信息的表现形式、视图层（view）模型的表现形式，通过输入元素和按钮等用户界面元素，通过这些模型与元素进行交互、控制器（Control）负责解释用户的输入并转换为模型，然后将转换后的结果显示给用户。三层清晰的结构划分，每个角色都能够单独的使用一个类进行控制。在层次方面显而易见，对于很多业务代码，可进行重复的使用。对于很多本地化标签库有很好的支持，类似JSTL这样的标签库能够很好的适配使用。还有一大优点是对于配置的直接性，框架层和应用程序类都能作为JavaBean来配置，在web控制器中也能对业务对象和验证器进行引用。对于开发而言是极其便利的事情。

- 【关键词】

便利 问卷调查 设计模式

- [Abstract]

  Nowadays, office is going to electric, the paper work had far away people, the porpulation work is electric. The questionnaire is also envole from divide use paper, now throught internet. The whole process is waste a lot of time. Also the range is very less. Enter international time, we can get a lots of goods thing from survier from internet. For example, question create, divide, replace, analyse… Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage. Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage. Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage. Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage. Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage. Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  All of all, used JSP language. And MVC + JavaBean to devepment this system.

- [Keywords]
  convenient, questionnaire, common framework


[TOC]

## 第一章 绪论



#### 1.1 问卷系统背景

问答，是对目标对象的意见调查的一个方法，问卷系统则是由一系列的小问题组成，然后去访问，收集被调查者的意见、感受、反应等等。通过问卷，可以在短时间内采集到很多人的反应，通过对这些反应的收集分析，在日后进行类比、统计之后能够得到对现有情况，大众的整体反应。当然这样的方法也存在一定的缺点，例如无法百分百保证收集到的内容是准确的事实。通常情况下，涉及到个人的隐私情况时，往往不能得到满意的结果。

在以往，想要进行问卷调查的唯一途径是通过将问卷印刷出来，再丢每个人进行分发。仅仅是这一步，所消耗的人力物力都是非常巨大的。而且有很大的缺点，就是样本的范围性。能够收集到的数据是人们创造出问卷，再找到愿意填写的人。这一部分的数据，然而，对于问卷系统，样本若是过小，则不具备代表性。且，对于地域的局限性也是非常巨大的问题。除了分发这一步，在用户填写完成之后，哪怕问卷一份不差的回收了，对于数据的处理，亦是原问卷系统的一大问题。样本数量较小时能较为完善的统计，当问卷的数量上升到百份、千份之后，处理数据所需要的人力和时间也是很严重的问题。这对于传统问卷是致命伤，但是在互联网时代有了新的解决方案。

随着互联网的发展，越来越多的用户通过在Web上发布调查问卷。相较于纸质的问卷系统，互联网的问卷系统有几大显著的提升。对于人力物力的节省，创建问卷和分发的过程不再像以前需要打印出来在进行一个人一个人的发送。这样的突破能带来效率的巨大提升，特别对于问卷数据的分析，选择题的情况能够通过计算机在极其短暂的时间内计算出结果。而不需要人们再慢慢将每份问卷的结果统计，这样的突破可谓是颠覆性的。在以前需要耗时一两天的工程，如今只需要几分钟。样本的广度与深度，通过网络的传播，问卷能够到达四面八方，天南海北的用户都能参与进来进行填写。这样的样本范围，是以前不可能实现的，并且传播的成本近乎为零，所需要做的事情仅仅是定位目标用户，对他们进行一定的宣传就够了。这两点的提升，让传统的问卷方法黯然失色。

目前市面上主流的问卷系统为：腾讯问卷、问卷网、问卷星、麦克CRM、调查派、番茄表单、金数据。

主流的问卷调查系统拥有的功能为：登录注册、问卷创建、问卷管理、数据分析、分享问卷、有偿填写问卷。

对于现有的问卷调查系统而言，所共有的功能为基础的问卷模块以及数据分析部分。这是问卷调查系统的核心，此次研发的系统也会对其进行开发。对于用户方面的问题，除了基础的登录注册外，还提供部分信息的修改。且对于市面上的问卷系统缺失的一个功能进行重点的研发，用户分组的管理。

#### 1.2 课题意义

电子化办公已是现在的主流趋势，但是对于问卷调查系统而言，除了大面积扩散进行数据收集以外，对于特定人群进行问卷调查也是一个刚需，其实这也是问卷系统的原本意义所在，对于特定人群进行数据采集，因为样本的广度并能作为问卷数据好坏唯一指标，即数据量大的问卷可能问题也很大。原因在于某些特定问题，例如：对于新发布的某种规则有什么建议？这样的问题并不适用于进行广度的调研。毕竟很多人与此类问题没有任何关联，对于这部分用户取样的数据是没有任何意义的，这种情况即数据量够大，但是结果却不一定准确。甚至因为数据量过于杂乱，导致此问卷只能作废。如何对于特定的人群进行调研，是现在主流的问卷调查系统都没有进行研究的一个方向。例如：特定班级/年级的学生、公司内部特定部门等进行问卷调查，因此，此次选题的主要研究方向即是：如何能够对特定人群进行数据采集。

主要思想为，对于管理层的用户。这类用户，可以进行批量创建账号。这样做的好处是，可以很方便的进行团队的管理，而且一个团队仅仅需要管理层进行团队的管理。管理者可以对于团队内的人完成问卷的总体情况有一个了解。但是考虑到一个问题，如若实名制会导致问卷的真实性大幅度下降，所以不推荐进行实名制的问卷调查。除了部分问卷涉及到官方性或者触及到政治问题时，这类问卷需要严肃对待时再进行实名调查才好。

对于团队内的成员而言，成员在登录自己的账号之后，能够在自己的问卷中心内看到自己需要填写的问卷。这在很大程度上免去了用户需要多做的操作。

#### 1.3 研究内容

此次研发的系统主要功能是：登录注册、个人信息修改、问卷创建、问卷管理、数据分析、分享问卷、用户分组信息管理。

第一章：主要阐述问卷系统的背景和来源，以及这次开发的系统的实际意义与现实意义。简单介绍了问卷实现的原理，以及论述了论文主要的工作。

第二章：问卷系统的可行性分析，重点在于软件开发时使用工具已经在什么环境下进行的开发。包括安卓的行业概述，操作系统的架构和应用程序的分析、常见的数据库以及数据管理的要求。

第三章：系统设计。对系统的功能进行概要分析，同时展示系统逻辑和物理两方面的内容，再介绍了系统包含的各个功能进行详细的介绍。

第四章：系统实现，从客户端与服务端两个方面介绍，主要对各个模块例如问卷创建，问卷修改，问卷分析进行详细的介绍，以及功能和系统关键代码的呈现。

第五章：系统测试，描述了系统的测试用例以及系统的各个部分的完成情况。

第六章：总结与展望，主要介绍了项目完成的经验，存在的不足以及缺陷，最后是对于未来的一些展望。

#### 1.4 设计思想

基于web端设计，以JSP核心设计。使用JavaBean + MVC架构进行编写。通过M（model）V（view）C（control）三层来实现系统的功能。意义在于，用户的输入与输出均为JSP页面，本系统采用MVC的设计模式，用户输入输出界面均为JSP页面，即展示层（VIEW），用户的请求（REQUEST）将会被发送到控制层（CONTROL）的一个SERVLET集中处理，根据请求调用模型层（MODEL）的JAVABEAN对请求进行实际处理，并把结果返回给控制层，控制层根据请求的执行结果将响应（RESPONSE）派发到相应的JSP页面。 

## 第二章 问卷系统可行性分析

需求分析是软件分析中的一个重要步骤。它的基本任务是要准确地分析出系统应用者的需要，以及系统目标必须具备哪些功能。这些功能必须准确地，完整地体现出用户的要求。

#### 2.1 行业概述

目前市场上主要的几大问卷系统是：

腾讯问卷，腾讯问卷不管是界面还是功能，无疑是国内所有调查问卷平台最好用最全面的。它是一个免费、专业的问卷调查系统。提供多种方式创建问卷，简单高效的编辑方式，强大的逻辑设置功能，专业的数据统计和样本甄别，让您轻松开启调研工作。

麦客CRM，是一款在线表单制作工具，同时也是强大的客户信息处理和关系管理系统。她可以帮助你轻松完成信息收集与整理，实现客户挖掘与消息推送，并开展持续营销。

问卷星，免费创建问卷调查、在线考试、360度评估等应用；问卷星提供30多种题型，强大的统计分析功能，统计报告和原始答卷可免费下载；完美支持手机填写，微信群发。

调查派，是一个简单、好用的免费自助调查工具。可以帮助用户快速制作自己的在线问卷，通过网页、微博、微信等渠道发布，并自动统计数据，生成报表。支持问题间逻辑定义，添加自定义LOGO等功能。

问卷网，拥有创新的编辑界面和结果分析界面,海量的问卷和表单模板,支持十余种常见题型和多种问卷发布渠道.专注于为企业和个人提供问卷表单的创建,发布,管理,收集及分析服务。

番茄表单，是一款免费好用的表单设计和数据收集分析工具，它能够帮你快速创建各种在线表单问卷，适配在线报名、满意度调查、产品反馈、信息登记、预约订购、行政财务等各种需要收集信息的场景，还可嵌入至微信公众号、企业网站等多种渠道，后台生成的报表让数据分析更简单。免费版每月可提交1000条数据。

金数据，可提供问卷调查、客户登记、意见反馈、活动报名、在线订单等。金数据自动收集并整理数据，帮助用户节省工作时间，更聪明、更体面的完成工作。但是，免费版每月只能提交50条数据。

各个问卷系统都有自己独特的功能，但是用户最多的还是问卷星与腾讯问卷两者。可以看出互联网时代，大家对于问卷系统的需求还是很大的。

#### 2.2 开发的工具和环境

开发环境：IntelliJ IDEA 2017.3.5

服务器：Tomcat 9.0

语言：Java、html、javascript

#####2.2.1 编程语言

一、Java

使用java与数据库结合。由于java可在各个平台都能运行，可以用来开发多数应用程序。作为面向对象的编程语言，很多方面都接近于人类的思想。随着Internet网络的迅速发展，基于互联网的企业应用要求软件平台具有开放性、分布性和平台无关性。于是就相继出现了RPC/COM/CORBA等技术，但这些技术在实际应用中存在着许多不足和局限。它们的特定协议难以通过防火墙，因而不适于Web上的应用开发。为了进一步开发基于Web的应用，出现了Sun公司的Sun ONE（Open Net Environment 开发网络环境）和Microsoft公司的.NET等Web 服务技术体系。   Sun ONE体系结构以Java语言为核心，包括J2SE/J2EE/J2ME和一系列的标准、技术及协议。它包括Sun独有的iPlanet软件系列，其中有在市场上受欢迎的LDAP目录服务器软件，以及Forte for Java——便于在任何环境下书写Java 语言的软件工具。我们很容易就能从网上免费获得和使用包括Java 集成开发环境、Java数据库和中间件（Application Server）服务器等产品，以及它们的源代码。Sun ONE更接近或能满足互联网在智能化Web服务方面对分布性、开发性和平台无关性的要求。   随着Java技术的不断发展，它根据市场进一步细分为:针对企业网应用的J2EE（Java 2 Enterprise Edition）、针对普通PC应用的J2SE（Java 2 Standard Edition）和针对嵌入式设备及消费类电器的J2ME（Java 2 Micro Edition）三个版本。

J2EE为搭建具有可伸缩性、灵活性、易维护性的商务系统提供了良好的机制，它具有以下突出的优点：

1、事实的标准：J2EE是由SUN引导，各厂商共同发起的，并得到广泛认可的工业标准，业内的大企业（如IBM，BEA，ORACLE等）都积极参与，很多应用软件开发商也把自己的产品转移到J2EE平台上来，使之成为事实的工业标准。因此，J2EE拥有良好的市场和旺盛的生命力。

2、可保存现有的IT资产：使用J2EE能够充分利用客户原有的投资，保留已有的信息资源；同时，由于基于J2EE平台的产品几乎在任何操作系统和硬件配置上都可以运行，现有的操作系统和硬件也能够被保留使用。

3、高效的开发：J2EE允许公司把一些通用的、很繁琐的服务端任务交给中间件供应商去完成。这样开发人员可以集中精力在如何创建业务逻辑上，相应地缩短了开发时间。

4、支持异构环境：J2EE能够开发部署在异构环境中的可移植程序。基于J2EE的程序不依赖于任何特定操作系统、中间件、硬件。因此设计合理的基于J2EE的应用程序只需开发一次就可被部署到各种平台。这在典型的异构企业计算环境中是十分重要的。J2EE标准也允许客户定购与J2EE兼容的第三方的现成的组件，把它们部署到异构环境中，节省了由自己制定整个方案所需的费用。

5、可伸缩性：企业必须选择一种服务器端平台，这种平台应能提供极佳的可伸缩性去满足那些在它们的系统上进行商业运作的大批新客户。基于J2EE平台的应用程序可被部署到各种操作系统上。例如可被部署到高端UNIX和大型机系统，这种系统单机可支持64至256个处理器。（这是NT服务器所望尘莫及的）J2EE领域的供应商提供了更为广泛的负载平衡策略，能消除系统中的瓶颈，允许多台服务器集成部署。这种部署可达数千个处理器，实现可高度伸缩的系统，满足未来商业应用的需要。

6、稳定的可用性：一个服务器端平台必须能够全天候运转以满足公司客户和合作伙伴的需要。因为Internet是全球化的、无处不在的，即使在夜间按计划停机也可能造成严重损失。意外停机有可能造成灾难性后果。可以把J2EE部署到可靠的操作环境中,它们支持长期的可用性。最健壮的操作系统可达到99.999％的可用性或每年只需5分钟的停机时间，这是实时性很强商业系统理想的选择。

二、html、css、JavaScript、jQuery

html，万维网上的一个超媒体文档称之为一个页面（外语：page）。作为一个组织或者个人在万维网上放置开始点的页面称为主页（外语：Homepage）或首页，主页中通常包括有指向其他相关页面或其他节点的指针（超级链接），所谓超级链接，就是一种统一资源定位器（Uniform Resource Locator，外语缩写：URL）指针，通过激活（点击）它，可使浏览器方便地获取新的网页。这也是HTML获得广泛应用的最重要的原因之一。在逻辑上将视为一个整体的一系列页面的有机集合称为网站（Website或Site）。超级文本标记语言（英文缩写：HTML）是为“网页创建和其它可在网页浏览器中看到的信息”设计的一种标记语言。
网页的本质就是超级文本标记语言，通过结合使用其他的Web技术（如：脚本语言、公共网关接口、组件等），可以创造出功能强大的网页。因而，超级文本标记语言是万维网（Web）编程的基础，也就是说万维网是建立在超文本基础之上的。超级文本标记语言之所以称为超文本标记语言，是因为文本中包含了所谓“超级链接”点。

超级文本标记语言是标准通用标记语言下的一个应用，也是一种规范，一种标准，它通过标记符号来标记要显示的网页中的各个部分。网页文件本身是一种文本文件，通过在文本文件中添加标记符，可以告诉浏览器如何显示其中的内容（如：文字如何处理，画面如何安排，图片如何显示等）。浏览器按顺序阅读网页文件，然后根据标记符解释和显示其标记的内容，对书写出错的标记将不指出其错误，且不停止其解释执行过程，编制者只能通过显示效果来分析出错原因和出错部位。但需要注意的是，对于不同的浏览器，对同一标记符可能会有不完全相同的解释，因而可能会有不同的显示效果。

css，CSS是一种定义样式结构如字体、颜色、位置等的语言，被用于描述网页上的信息格式化和现实的方式。CSS样式可以直接存储于HTML网页或者单独的样式单文件。无论哪一种方式，样式单包含将样式应用到指定类型的元素的规则。外部使用时，样式单规则被放置在一个带有文件扩展名_css的外部样式单文档中。
样式规则是可应用于网页中元素，如文本段落或链接的格式化指令。样式规则由一个或多个样式属性及其值组成。内部样式单直接放在网页中，外部样式单保存在独立的文档中，网页通过一个特殊标签链接外部样式单。
名称CSS中的“层叠（cascading）”表示样式单规则应用于HTML文档元素的方式。具体地说，CSS样式单中的样式形成一个层次结构，更具体的样式覆盖通用样式。样式规则的优先级由CSS根据这个层次结构决定，从而实现级联效果。

JavaScript，JavaScript一种直译式脚本语言，是一种动态类型、弱类型、基于原型的语言，内置支持类型。它的解释器被称为JavaScript引擎，为浏览器的一部分，广泛用于客户端的脚本语言，最早是在HTML（标准通用标记语言下的一个应用）网页上使用，用来给HTML网页增加动态功能。

三、jQuery

jQuery是一个快速、简洁的JavaScript框架，是继Prototype之后又一个优秀的JavaScript代码库（或JavaScript框架）。jQuery设计的宗旨是“write Less，Do More”，即倡导写更少的代码，做更多的事情。它封装JavaScript常用的功能代码，提供一种简便的JavaScript设计模式，优化HTML文档操作、事件处理、动画设计和Ajax交互。

jQuery的核心特性可以总结为：具有独特的链式语法和短小清晰的多功能接口；具有高效灵活的css选择器，并且可对CSS选择器进行扩展；拥有便捷的插件扩展机制和丰富的插件。

四、SQL

结构化查询语言(Structured Query Language)简称SQL，是一种特殊目的的编程语言，是一种数据库查询和程序设计语言，用于存取数据以及查询、更新和管理关系数据库系统；同时也是数据库脚本文件的扩展名。
结构化查询语言是高级的非过程化编程语言，允许用户在高层数据结构上工作。它不要求用户指定对数据的存放方法，也不需要用户了解具体的数据存放方式，所以具有完全不同底层结构的不同数据库系统, 可以使用相同的结构化查询语言作为数据输入与管理的接口。结构化查询语言语句可以嵌套，这使它具有极大的灵活性和强大的功能。

##### 2.2.2 技术路线

对于工具的选择，Eclipse是很好的一个平台，但是IDEA也有很多值得使用的地方。对于各类的加持，我认为IDEA更适用于此项目的开发。所以我选择了IDEA作为我的开发工具。

JDK可以说是必备的东西，没有JDK无法进行Java的开发。在按照JDK之后，进行各端的配置。Tomcat是服务器的设置，用来作为服务端的。

最开始编程时，我将所有的代码都写在了JSP文件内部，这样写出来的代码文件很少，但是整理起来很难，需要修改功能时也很难定位到具体位置。这样的代码在我编写到后面，对自己造成了很大的困扰。在之后的编程过程中，我将各个部分的代码都进行了独立，功能方面，样式方面以及网页内响应的功能各个分开，之后再进行功能的修改则是很容易的事情。也因此提高了代码的整体可读性，不再像之前那样杂乱无章，容易引起误会或是找不到具体的功能代码。在自行学习了MVC框架后，才意识到规范性的重要性。按照框架编写代码，让自己在增加或删改代码的时候，也能找到更加直接的入口。

##### 2.2.3 用户要求

对于用户而言，只需要会键盘、鼠标基本的操作，即可使用本系统。界面整体很容易被理解，功能模块一一对应，没有很复杂的层级关系。用户可以很轻易的上手体验，包括创建属于自己的一份问答系统。

##### 2.2.4 系统开发及运行环境分析

操作系统：Microsoft Windows 7 及以上

浏览器：Internet Explorer 6.0 及以上或是以此为内核的浏览器、Chrome、Firefox

应用服务器：Apache-Tomcat-9.0.1

Tomcat是Apache 软件基金会（Apache Software Foundation）的Jakarta 项目中的一个核心项目，由Apache、Sun 和其他一些公司及个人共同开发而成。由于有了Sun 的参与和支持，最新的Servlet 和JSP 规范总是能在Tomcat 中得到体现，Tomcat 5支持最新的Servlet 2.4 和JSP 2.0 规范。因为Tomcat 技术先进、性能稳定，而且免费，因而深受Java 爱好者的喜爱并得到了部分软件开发商的认可，成为目前比较流行的Web 应用服务器。

JDK：jdk-

JDK顾名思义是java开发工具包，是程序员使用java语言编写java程序所需的开发工具包，是提供给程序员使用的。JDK包含了JRE，同时还包含了编译java源码的编译器javac，还包含了很多java程序调试和分析的工具：jconsole，jvisualvm等工具软件，还包含了java程序编写所需的文档和demo例子程序。

JRE顾名思义是java运行时环境，包含了java虚拟机，java基础类库。是使用java语言编写的程序运行所需要的软件环境，是提供给想运行java程序的用户使用的。

数据库：MySQL 2312

MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于Oracle旗下产品。MySQL 是最流行的关系型数据库管理系统之一，MySQL是一种关系数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。

开发工具：IntelliJ IDEA 2017.3.5

IDEA 全称 IntelliJ IDEA，是java语言开发的集成环境，IntelliJ在业界被公认为最好的java开发工具之一，尤其在智能代码助手、代码自动提示、重构、J2EE支持、各类版本工具(git、svn、github等)、JUnit、CVS整合、代码分析、 创新的GUI设计等方面的功能可以说是超常的。IDEA是JetBrains公司的产品，这家公司总部位于捷克共和国的首都布拉格，开发人员以严谨著称的东欧程序员为主。它的旗舰版本还支持HTML，CSS，PHP，MySQL，Python等。免费版只支持Java等少数语言。

UML设计工具：rose

####2.3 基于数据库实现设计

##### 2.3.1 数据库软件

此次开发使用的是MySQL数据库，MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择 MySQL 作为网站数据库。

使用Navicat for mysql，Navicat是一套快速、可靠并价格相当便宜的数据库管理工具，专为简化数据库的管理及降低系统管理成本而设。它的设计符合数据库管理员、开发人员及中小企业的需要。Navicat 是以直觉化的图形用户界面而建的，让你可以以安全并且简单的方式创建、组织、访问并共用信息。

##### 2.3.2 数据库表

![image-20180509112628074](/Users/wangxuhan/Documents/GitHub/graduationDesign/毕业论文.assets/image-20180509112628074.png)

分为Question、Option、User、Text、

##### 2.3.3 数据库设计

数据库采用的是JavaBean，xxx的概念

## 第三章 基于web的问卷系统设计

#### 3.1 问卷系统功能

系统功能是系统核心的概述，以及对整体思想的整理。

##### 3.1.1 功能描述

用户模块：

登录：用户通过账号密码进行登录，登陆之后可以进行查看管理自己的问卷等功能。

注册：提供给用户注册自己的账户。

修改：让用户可以修改自己的密码，描述等内容，但是不能修改账户名。

问卷模块

问卷创建：系统的核心部分，创建问卷。主要提供了创建单选，多选和文本框这几类。对于题目和选项可以根据用户的需求自行添加，在系统中没有对数量作出限制。

问卷修改：对于用户自己创建的问卷，可以随时进行修改其内容。包括问卷名、问卷题目、题目的各个选项等

问卷删除：对于用户自己创建的问卷，可以随时删除。

问卷分析：对于用户自己发布的问卷，提供数据分析的功能，供给用户使用。用户可以通过此功能了解到问卷填写的情况，根据这些内容来改善自己的团队或其他。

团队模块：系统的特色功能，提供给用户管理自己的团队，以及创建问卷之后查看团队内的完成情况。

用例描述

![image-20180509112536130](/Users/wangxuhan/Documents/GitHub/graduationDesign/毕业论文.assets/image-20180509112536130.png)



##### 3.1.2 界面布局设计

Web前端层的设计和实现中，充分利用的JavaScript的强大控制功能，并且在某些页面上采用了div + css组合设计方法。在系统后台，页面采用框架布局，页面左边显示菜单，中间显示操作页面。

后台界面的设计主要依据功能模块来划分，论文重点阐述问卷管理模块的设计，这也是后台的核心部分。

#### 3.2 系统框架图

##### 3.2.1 系统逻辑流程图

系统的各个流程

##### 3.2.2 系统物理架构图

物理图

#### 3.3 接口设计

##### 3.3.1 用户接口

##### 3.3.2 外部接口

##### 3.3.3 内部接口

##第四章 基于web的问卷系统实现

#### 4.1 服务端模块

本系统在持久层主要使用了3种设计模式：DAO模式、VO模式、简单工厂模式。

DAO（数据访问对象）模式：

数据访问对象（DAO）模式使用数据访问对象来封装和抽象对所有数据源的访问，它管理着与数据源的连接以便于检索和存储数据，为业务对象提供了透明的底层数据访问实现。DAO模式完全包装数据的读取和操纵，并包装与数据库交互的数据访问API，它用数值对象包装从数据库读取和发送到数据库的数据，与业务层进行通信。DAO模式提供的灵活性是由于应用程序并不直接访问数据源，而是创建DAO对象，用其访问数据源。读取数据时，可以用数值对象保存取得的数据。例如： 

——————————SurveyDAO.java begin——————————

……

public interface SurveyDAO {

 boolean addSurvey(Survey survey);//添加问卷

 boolean updateSurvey(Survey survey);//更新问卷

 boolean delSurvey(Long surveyId);//删除问卷

……

}

——————————SurveyDAO.java end——————————

VO（值对象）模式：

使用值对象能够减少使用实体bean时需要的远程调用的次数。我们使用值对象来封装业务数据，用相应的方法调用来设置和检索值对象。当客户端向实体bean请求业务数据时，该实体bean可以构造值对象，用属性值来填充，并且将值对象传送给客户端。同样道理，客户端向实体bean提交数据时，也采用值对象这一办法。 

———————————Question.java begin————————

 ……

public class Question  {

​       private Long QId;

 private Long survey;

 private Long QType;

 public Long getQId() {//取得问题ID

​       return this.QId;

 }

 public void setQId(Long QId) {//设置问题ID

​       this.QId = QId;

 }

 public Long getSurvey() {//获取问卷ID

​       return this.survey;

 }

}

……

———————————Question.java end————————

系统中所以的数据库实体，都被封装成了这样的VO。例如,页面上要数据库中添加一个问卷，那么首先页面把数据发送到控制层的SERVLET，在该SERVLET中通过页面传过来的参数构造一个VO，然后把这个VO传递给DAO对象，DAO对象最后完成对数据库的控制操作。

简单工厂模式：

专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。它又称为静态工厂方法模式，属于类的创建型模式。简单工厂模式的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。

————————————DAOFactory.java begin—————————

public class DAOFactory {

​       private DAOFactory(){

​       }

​       public static SurveyDAO getSurveyDAO(){

​              return new SurveyDAOimpl();//返回问卷DAO的实现类

​       }

​       public static QuestionDAO getQuestionDAO(){

​              return new QuestionDAOimpl();//返回问题DAO的实现类

​       }

}

————————————DAOFactory.java end—————————

本工厂类使用了多方法工厂，隔离上层与数据库底层，使上层方法不用关心底层采用何种数据库实现，系统如果要迁移到其他数据库上，也只需实现相应的DAO接口，然后在DAOFactroy类中修改返回的实现类即可。 

本系统涉及的业务逻辑相对简单，因此在设计的时候，我们将其并入MVC控制层，在控制层中直接调用DAO处理对象持久化操作。 

————————————SurveyManage.java begin————————

…

public class SurveyManage extends HttpServlet {

​       private static final long serialVersionUID = -1737458302140188798L;

​       public void doGet(HttpServletRequest request, HttpServletResponse response)

​                     throws ServletException, IOException {

​              PrintWriter out=response.getWriter();

​              if(“AddSurvey”.equals(request.getParameter(“op”))){

​                     SurveyDAO surveydao=DAOFactory.getSurveyDAO(); //获取DAO对象

​                     Survey survey=new Survey();//构造VO对象

​                     survey.setSName(request.getParameter(“Survey_name”));//给VO对象赋值

​                     survey.setSAuthor(request.getParameter(“Survey_author”));

​                     …

​                     oolean ret=surveydao.addSurvey(survey);//调用DAO对象方法执行数据库操作

​                     if(ret==true)

​                     response.sendRedirect(“../admin/OpResult.jsp?op=SurveyAdd&ret=true”);//根据返回结果转发页面

​                     else

​       response.sendRedirect(“../admin/OpResult.jsp?op=SurveyAdd&ret=false”);

​                      ……

​              }

}

————————————SurveyManage.java end ————————

##### 4.1.1 登录

#####4.1.2 注册

##### 4.1.3 修改

##### 4.1.4 问卷创建

#####4.1.5 问卷分析

#### 4.2 客户端模块

##### 4.2.1 登录界面

##### 4.2.2 注册页面

#####4.2.3 我的主页

##### 4.2.4 问卷界面

## 第五章 基于web的问卷系统测试

## 第六章 总结与展望

通过这次毕业设计，我从零开始构建出了一个完整的问卷调查系统。在设计的过程中，遇到了许多从未想过的问题。由最开始进行数据库的构建，在自认为完善的情况下，进行编写代码的时候发现有很多不足。此时再反过来修改数据库的字段。造成了很大的麻烦，在代码层面需要修改很多地方。这样的错误，导致做了许多无用功，这是我在日后的学习和工作中应当极力避免的情况。在今后进行数据库建立的时候，应当更仔细的考虑到可能需要的字段以及与其他表的联系，减少对于数据库修改。

除此之外，在代码编写的过程中，我也认识到了框架的便利性。在最开始进行编写的时候，没有进行过系统化的规划，导致代码整体结构非常散乱。编写过程中，改用了MVC框架，代码整体的可读性瞬间得到了提高，并且在功能实现的导向上也得到很大程度的改善。模型、功能、界面的分开，让每个模块的指向性更为明确，每个模块只做当前模块应当实现的功能。无论从阅读代码，或是代码的修改层面，都是一个极大的改善，让代码变得更易于编写。并且，通过这种方式，各个文件所做的事更明显，在出错的时候，能更快的定位至特定文件，这样在效率上提升了数倍。

这是通过此次编写，我得到关于代码层面的心得体会。同时，我也感到自己学习的局限性。在学习完书本知识后，如何与实践集合，而不是只将概念性的东西停留在概念。毕竟学习的内容，最终不付诸实践将只是概念。今后我也会更加注重学习与实践的相结合。此次代码的编写，实现了一个问卷系统核心的大部分功能：创建、修改、删除、分析，以及我认为目前市面上欠缺的团队管理功能。但是我认为，在代码的编写上仍有极大的提升空间。毕竟现在的数据量过少，没有展现出效率上的缺陷。若数据量够庞大的时候，我目前的代码不足以快速的响应请求。这是值得优化的部分，且对于团队的管理暂时只是按照自己的意愿进行的构建，不确定是否能在实际生活中胜任用户的要求，需要用户实际体验过后才能得出相应的结论，并针对问题进行相应的改善。

若有可能，系统的UI确实需要进一步优化。毕竟在基础功能相同的情况下，一个良好的界面更能引起人们使用的欲望。且，互联网的发展速度之快，用户已经不再满足于解决问题，而是需要界面的美观性，这是系统需要改进的一大点。但是由于本人的设计理念有限，做出来的系统确实无法拿上台面。只适用于部分只需要功能的用户使用，我相信团队管理能够使得问卷系统更具有价值。

## 致谢

本文之所以能够顺利完成，我在此由衷的感谢陈君老师。在陈君老师的指导下，我才能从论文选题上有了明确的目标。陈君老师帮助我确定了我研究的方向和主要路线，并且多次在研究过程中帮助我，不时提供给我关键的意见，让我能在不断的试错过程中走向正道。并且，陈君老师提供给我必要的参考资料，让我能在代码研究过程中少走弯路。

在写论文期间，陈君老师提供了很多宝贵的意见，让我能及时发现自己的不足，且在编写过程中不断完善，最终完成了这一次毕业论文，我由衷的感谢陈君老师给予了我莫大的帮助。通过这次的毕业论文，我从中收获的东西必定能够受益终生。在不断的完善过程中，逐步将自己漏洞补上，这样的过程让我感觉到自己在逐步成长，并且在逐步的将自己的知识漏洞补全。感谢在此过程中给予过我帮助的老师和同学们，是你们让我这次论文的编写得以完成。

最后，感谢各位答辩老师的鞭策与鼓励。

## 参考文献

## 附录A

## 附录B 英文翻译

指导教师制定与专业相关的外文文献内容，由学生独立翻译成中文，其外文文献内容不得少于3000字符。译文和原文附于附录部分，按照正文格式进行排版。若原文没有电子版只是原版的复印件，复印件装订在内可不计页码。

《Head First Java》 < Effective *Java*>

**A good programmer is someone who always looks both ways before crossing a one-way street. ~Doug Linder**

Working as a software programmer in IT industry, one thing that drives us daily to the work place; is that fun and passion lies in programming. But to make that programming a fun and to get an eternal elation out of it, one needs to learn and adhere to some basics which make you a good programmer.

I am not writing mantras which you can follow to become a good programmer, but the intention is to collate a list of helping tips which I learned and implemented in the industry to get good results. There is no definition of a good programmer, but here we are referring to the category of programmer who have developed excellent IT solutions and helped in overall growth of this industry.

### **1.Work on Basics**

As it is true for any industry and any job, the conceptual understanding is the key for success. Unless one has strong conceptual foundation, he/she can never be a good programmer. The core conceptual understanding helps you in designing and implementing the best solutions in the best possible way. If still you feel gap in core computer science and your programming language specific concepts, it’s never too late to go back and review the basics.

### **2.Start putting question tags (how, what) with every set of code you write**

One thing that I realized creating a clear separating line between good programmer and rest is that zeal to know what and how it is happening. There is small group of people who can never leave a code without knowing exactly what is happening when it executes. I understand that in tight deadlines, we don’t get this liberty always and hence have to leave the code just knowing that it’s doing its job. Although this is a bit different topic of how to handle such situations, but as a programmer one can always try the level best to dig into as much as one can. And believe me, this becomes a habit with time and then you do it unknowingly every time.

### **3.You learn more by helping others**

Most of us have a common tendency of turning our heads towards forums or groups only when we need help. And again a clear separation between the good programmer and rest that the formers visit these places more often to help others. This makes them learn more then they learn getting their problem solved by someone else. Within a team as well, help others to solve their problems. Believe me, understanding others’ problem in their context, investigating on that and providing solutions; will leave you much more learned than before.

### **4.Write simple, understandable but logical code**

As in almost every aspect of life, the formula of KISS (Keep it simple and short) works in programming as well. Write more logical code and avoid complexity. Sometimes people do write complex code just to prove their capability to write such codes. My experience says that simple but logical codes always works well, resulted in fewer issues and are more extendable. I remember an excellent quote

**Good code is its own best documentation. As you're about to add a comment, ask yourself, "How can I improve the code so that this comment isn't needed?" ~Steve McConnell**

### **5.Spend more time in analyzing the problem, you’ll need less time to fix it**

Spend more time in understanding and analyzing the problem and designing solutions for it. You will find the rest of the things quite easily doable. Designing not always mean using modeling languages and tools, it can be as simple as looking at sky and thinking solution in your mind. Those who have habits of pressing keyboard (for coding) the moment get the problem, usually ended us something different than the requirement.

**If you cannot grok the overall structure of a program while taking a shower, you are not ready to code it. ~Richard Pattis**

### **6.Be the first to analyze and review your code**

Although a bit difficult, but try to break your own code before others can and with the time you will learn to write close-to-bug-free code. Always do a close and unbiased review of your code. Also never hesitate to take others view on your code. Working with good programmers and taking their feedbacks will surely help you become a good programmer.

### **7.Don’t dismay yourself by looking at changing technology world**

Over these periods in IT industry, I met with many people who are either disappointed by their work or even left it to search new job saying they want to learn and work in latest technologies. I don’t see any problem with this aspiration but the very first incorrect word is the ‘latest technologies’. What we are hearing everyday and mean here is new tools, APIs, frameworks and others means coming up everyday to make the programming easier and quicker. This anyway will continue in technology world. But what needs to be understood is that the core and basic technologies changes with much lesser pace than frameworks, tools and APIs around it. This is like the sea where the surface water moves very rapidly but the deep water is relatively calm and concentrated and most of the aqua lives survive here. So, feel yourself in that deep water and close to core technologies. For e. g. in Java enterprise world, lots of web frameworks exist and new ones coming every other week. But the core concepts of request based client-server communication, MVS pattern, filters/servlets/JSP, resource bundling, XML parsing etc remains same. So spend more time in learning these core concepts rather than worrying about ever changing frameworks and tools around it. Believe me, with the foundation of core concepts, you will always find easier to learn new frameworks, tools and APIs.

### **8.Work-arounds don’t work for longer time**

Many times software programmers implement work around solutions (may be because of lack of time, lack of problem understanding or lack of technology experience).But over the period these work around solutions always resulted in corrupting the code, making it less extendible and maintainable and lot of wastage of time later on. Always prefer to implement when you know the in-out of the solution. I understand that it becomes unavoidable in some circumstances, but it’s like, one should speak truth always but you tell lie in some circumstances.

### **9.Read documentation**

One of the essential habits of good programmer is that they read lots of documentation. May it be specifications, JSR, API documents, tutorials etc. Reading documents helps you creating that essential foundation based on which you program in best of the way.

### **10.You can learn from others code as well**

I interacted with some excellent programmers who actually have java source project inside their IDE all the time and read/refer that in daily work. They do it not only to fulfill their appetite of knowing the basics but also to learn ways of writing good programs. Reading and referring reliable and known open source code or your senior’s code, can also help you making your programming better.

### **And the last, not listed above: Don’t compare yourself with others**

Your comparison of yourself with others will only result in evolution of negative feelings and un-healthy competition. Everyone has got his or her strengths and weaknesses. It is more important that we understand ours and work on it. I have seen many times that so called ‘fundoo-programmers’ (fundamentally strong programmer) also make silly mistakes. So, analyze yourself, list down your areas of improvement and work on it. Programming is a real fun, enjoy it.

**Any fool can write code that a computer can understand. Good programmers write code that humans can understand. ~Martin Fowler**