#基于web端的问卷调查系统

##基于web端的问卷调查系统

- 【摘要】

  现在社会中，办公等工作越来越电子化，纸质物品逐渐离开大众的视野，电子化办公才是当前的主旨。问卷的形式也从使用纸质的分发，到现在通过网络进行调查。各类集体也需要一个统一的平台进行调查以及整理意见，以此推动整体项目的前进，改进团队的优劣处。因此大批量的web端问卷调查系统涌现了出来，但是对于市面上大部分的问卷系统而言，并没有对团体进行过划分的功能。基于此种状况，设计的问卷调查系统。

  整体而言，使用JSP作为主要技术导向。使用SpringMVC + JavaBean进行开发。

- 【关键词】

问卷调查 设计模式 便利

- [Abstract]

  Nowadays, office is going to electric, the paper work had far away people, the porpulation work is electric. The questionnaire is also envole from divide use paper, now throught internet. Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage.Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  All of all, used JSP language. And SpringMVC + JavaBean to devepment this system.

- [Keywords]
  questionnaire, common framework, convenient


[TOC]

## 第一章 绪论



#### 1.1 问卷系统背景

随着互联网的发展，越来越多的用户通过在Web上发布调查问卷，获得反馈数据，并分析得到有用的信息促进个人或公司的发展。本选题旨在分析、比较现有主流基于Web的调查问卷发布与分析系统的基础上，设计并实现一个更便于用户使用、快速获得有效信息的调查问卷发布与分析系统。

目前市面上主流的问卷系统为：腾讯问卷、问卷网、问卷星。

主流的问卷调查系统拥有的功能为：登录注册、问卷创建、问卷管理、数据分析、分享问卷、有偿填写问卷。

对于现有的问卷调查系统而言，所共有的功能为基础的问卷模块以及数据分析部分。这是问卷调查系统的核心，此次研发的系统也会对其进行开发。对于用户方面的问题，除了基础的登录注册外，还提供部分信息的修改。且对于市面上的问卷系统缺失的一个功能进行重点的研发，用户分组的管理。

#### 1.2 课题意义

问卷调查系统除了大面积扩散进行数据收集以外，对于很多特定人群的问卷也是一个刚需。如何有效的进行特定群体（例如：特定班级/年级的学生、公司内部特定部门等）进行问卷调查，是此次研究的一个主要方向。对于用户创建者而言，批量建立账号后，通过链接使得用户进行问卷填写，在管理问卷时可以看到完成人数，能在很大程度上满足对特定人群的调查。

#### 1.3 研究内容

此次研发的系统主要功能是：登录注册、个人信息修改、问卷创建、问卷管理、数据分析、分享问卷、用户分组信息管理。

第一章：主要阐述问卷系统的背景和来源，以及这次开发的系统的实际意义与现实意义。简单介绍了问卷实现的原理，以及论述了论文主要的工作。

第二章：问卷系统的可行性分析，重点在于软件开发时使用工具已经在什么环境下进行的开发。包括安卓的行业概述，操作系统的架构和应用程序的分析、常见的数据库以及数据管理的要求。

第三章：系统设计。对系统的功能进行概要分析，同时展示系统逻辑和物理两方面的内容，再介绍了系统包含的各个功能进行详细的介绍。

第四章：系统实现，从客户端与服务端两个方面介绍，主要对各个模块例如问卷创建，问卷修改，问卷分析进行详细的介绍，以及功能和系统关键代码的呈现。

第五章：系统测试，描述了系统的测试用例以及系统的各个部分的完成情况。

第六章：总结与展望，主要介绍了项目完成的经验，存在的不足以及缺陷，最后是对于未来的一些展望。

#### 1.4 设计思想

基于web端设计，以JSP核心设计。使用SpringMVC架构进行编写。通过M（model）V（view）C（control）三层来实现系统的功能。

## 第二章 问卷系统可行性分析

需求分析是软件分析中的一个重要步骤。它的基本任务是要准确地分析出系统应用者的需要，以及系统目标必须具备哪些功能。这些功能必须准确地，完整地体现出用户的要求。

#### 2.1 行业概述

目前市面上主流的问卷系统为：腾讯问卷、问卷网、问卷星。

#### 2.2 开发的工具和环境

开发环境：IntelliJ IDEA 2017.3.5

服务器：Tomcat 9.0

语言：Java

#####2.2.1 编程语言

使用java与数据库结合。由于java可在各个平台都能运行，可以用来开发多数应用程序。作为面向对象的编程语言，很多方面都接近于人类的思想。

##### 2.2.2 技术路线

对于工具的选择，Eclipse是很好的一个平台，但是IDEA也有很多值得使用的地方。对于各类的加持，我认为IDEA更适用于此项目的开发。所以我选择了IDEA作为我的开发工具。

JDK可以说是必备的东西，没有JDK无法进行Java的开发。在按照JDK之后，进行各端的配置。Tomcat是服务器的设置，用来作为服务端的。

##### 2.2.3 用户要求

对于用户而言，需要会基本的操作。界面大体很容易理解，不需要多少复杂的操作。

##### 2.2.4 运行环境

IntelliJ IDEA 2017.3.5

Tomcat 9.0

####2.3 基于数据库实现设计

##### 2.3.1 常用的数据库软件

此次开发使用的是MySQL数据库：MySQL是----

##### 2.3.2 数据库表

分为Question、Option、User、

##### 2.3.3 数据库设计

本系统在持久层主要使用了3种设计模式：DAO模式、VO模式、简单工厂模式。

DAO（数据访问对象）模式：

数据访问对象（DAO）模式使用数据访问对象来封装和抽象对所有数据源的访问，它管理着与数据源的连接以便于检索和存储数据，为业务对象提供了透明的底层数据访问实现。DAO模式完全包装数据的读取和操纵，并包装与数据库交互的数据访问API，它用数值对象包装从数据库读取和发送到数据库的数据，与业务层进行通信。DAO模式提供的灵活性是由于应用程序并不直接访问数据源，而是创建DAO对象，用其访问数据源。读取数据时，可以用数值对象保存取得的数据。例如： 

——————————SurveyDAO.java begin——————————

……

public interface SurveyDAO {

 boolean addSurvey(Survey survey);//添加问卷

 boolean updateSurvey(Survey survey);//更新问卷

 boolean delSurvey(Long surveyId);//删除问卷

……

}

——————————SurveyDAO.java end——————————

VO（值对象）模式：

使用值对象能够减少使用实体bean时需要的远程调用的次数。我们使用值对象来封装业务数据，用相应的方法调用来设置和检索值对象。当客户端向实体bean请求业务数据时，该实体bean可以构造值对象，用属性值来填充，并且将值对象传送给客户端。同样道理，客户端向实体bean提交数据时，也采用值对象这一办法。 

———————————Question.java begin————————

 ……

public class Question  {

​       private Long QId;

 private Long survey;

 private Long QType;

 public Long getQId() {//取得问题ID

​       return this.QId;

 }

 public void setQId(Long QId) {//设置问题ID

​       this.QId = QId;

 }

 public Long getSurvey() {//获取问卷ID

​       return this.survey;

 }

}

……

———————————Question.java end————————

系统中所以的数据库实体，都被封装成了这样的VO。例如,页面上要数据库中添加一个问卷，那么首先页面把数据发送到控制层的SERVLET，在该SERVLET中通过页面传过来的参数构造一个VO，然后把这个VO传递给DAO对象，DAO对象最后完成对数据库的控制操作。

简单工厂模式：

专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。它又称为静态工厂方法模式，属于类的创建型模式。简单工厂模式的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。

————————————DAOFactory.java begin—————————

public class DAOFactory {

​       private DAOFactory(){

​       }

​       public static SurveyDAO getSurveyDAO(){

​              return new SurveyDAOimpl();//返回问卷DAO的实现类

​       }

​       public static QuestionDAO getQuestionDAO(){

​              return new QuestionDAOimpl();//返回问题DAO的实现类

​       }

}

————————————DAOFactory.java end—————————

本工厂类使用了多方法工厂，隔离上层与数据库底层，使上层方法不用关心底层采用何种数据库实现，系统如果要迁移到其他数据库上，也只需实现相应的DAO接口，然后在DAOFactroy类中修改返回的实现类即可。 

本系统涉及的业务逻辑相对简单，因此在设计的时候，我们将其并入MVC控制层，在控制层中直接调用DAO处理对象持久化操作。 

————————————SurveyManage.java begin————————

…

public class SurveyManage extends HttpServlet {

​       private static final long serialVersionUID = -1737458302140188798L;

​       public void doGet(HttpServletRequest request, HttpServletResponse response)

​                     throws ServletException, IOException {

​              PrintWriter out=response.getWriter();

​              if(“AddSurvey”.equals(request.getParameter(“op”))){

​                     SurveyDAO surveydao=DAOFactory.getSurveyDAO(); //获取DAO对象

​                     Survey survey=new Survey();//构造VO对象

​                     survey.setSName(request.getParameter(“Survey_name”));//给VO对象赋值

​                     survey.setSAuthor(request.getParameter(“Survey_author”));

​                     …

​                     oolean ret=surveydao.addSurvey(survey);//调用DAO对象方法执行数据库操作

​                     if(ret==true)

​                     response.sendRedirect(“../admin/OpResult.jsp?op=SurveyAdd&ret=true”);//根据返回结果转发页面

​                     else

​       response.sendRedirect(“../admin/OpResult.jsp?op=SurveyAdd&ret=false”);

​                      ……

​              }

}

————————————SurveyManage.java end ————————

## 第三章 基于web的问卷系统设计

#### 3.1 问卷系统功能

Web前端层的设计和实现中，充分利用的JavaScript的强大控制功能，并且在某些页面上采用了div + css组合设计方法。在系统后台，页面采用框架布局，页面左边显示菜单，中间显示操作页面。

后台界面的设计主要依据功能模块来划分，论文重点阐述问卷管理模块的设计，这也是后台的核心部分。

##### 3.1.1 功能描述

用户模块：

登录：用户通过账号密码进行登录，登陆之后可以进行查看管理自己的问卷等功能。

注册：提供给用户注册自己的账户。

修改：让用户可以修改自己的密码，描述等内容，但是不能修改账户名。

问卷模块

问卷创建：系统的核心部分，创建问卷。主要提供了创建单选，多选和文本框这几类。对于题目和选项可以根据用户的需求自行添加，在系统中没有对数量作出限制。

问卷修改：对于用户自己创建的问卷，可以随时进行修改其内容。包括问卷名、问卷题目、题目的各个选项等

问卷删除：对于用户自己创建的问卷，可以随时删除。

问卷分析：对于用户自己发布的问卷，提供数据分析的功能，供给用户使用。用户可以通过此功能了解到问卷填写的情况，根据这些内容来改善自己的团队或其他。

团队模块：系统的特色功能，提供给用户管理自己的团队，以及创建问卷之后查看团队内的完成情况。

##### 3.1.2 界面布局设计

##### 3.1.3 消息推送原理

#### 3.2 系统框架图

##### 3.2.1 系统逻辑流程图

##### 3.2.2 系统物理架构图

#### 3.3 接口设计

##### 3.3.1 用户接口

##### 3.3.2 外部接口

##### 3.3.3 内部接口

##第四章 基于web的问卷系统实现

#### 4.1 服务端模块

##### 4.1.1 登录

#### 4.2 客户端模块

##### 4.2.1 注册/登录界面

##### 4.2.2 问卷界面

## 第五章 基于web的问卷系统测试

## 第六章 总结与展望

## 致谢

## 参考文献

## 附录A

## 附录B 英文翻译

指导教师制定与专业相关的外文文献内容，由学生独立翻译成中文，其外文文献内容不得少于3000字符。译文和原文附于附录部分，按照正文格式进行排版。若原文没有电子版只是原版的复印件，复印件装订在内可不计页码。 