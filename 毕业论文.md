#基于web端的问卷调查系统

##基于web端的问卷调查系统 — Model（模型层）View（视觉层）Controller（控制层）

- 【摘要】

  现代社会中，办公等工作越来越电子化，纸质物品逐渐离开大众的视野，电子化办公才是当前的主旨。问卷的形式，最开始为使用纸质印刷问卷，进行人工的分发，之后收回问卷，再一步步的进行数据的分析和统计，整个过程耗时耗力，且调查范围极其有限。到了互联网时代，通过网络进行调查有诸多好处。例如对于问卷的创建、发放、回收、分析的过程都可以节约大量时间。当然除了时间上的节省，对于问卷而言的另一个核心要素，用户的样本广度与深度也能有大幅度的提升。这对于传统的问卷行业是一个颠覆性的创造。与此同时，各类集体也需要一个统一的平台进行调查以及整理意见，以此推动整体项目的前进，改进团队的优劣处。因此大批量的web端问卷调查系统涌现了出来，但是对于市面上大部分的问卷系统而言，除了原有问卷系统的创建、分析等基础功能外，并没有一家系统对团体进行整体的规划，对于特定团队进行调查的情况还不能很方便的进行。因此本次设计就是基于此种状况，设计的问卷调查系统。除了主流市场上应有的问卷基础功能：创建问卷、问卷修改、问卷分析，团队问卷的管理是此次研究系统的主要功能点。

  整体而言，使用JSP作为主要技术导向。使用Spring MVC框架进行构建，既模型层（Model）程序特定域信息的表现形式、视图层（view）模型的表现形式，通过输入元素和按钮等用户界面元素，通过这些模型与元素进行交互、控制器（Controller）负责解释用户的输入并转换为模型，然后将转换后的结果显示给用户。三层清晰的结构划分，每个角色都能够单独的使用一个类进行控制。在层次方面显而易见，对于很多业务代码，可进行重复的使用。对于很多本地化标签库有很好的支持，类似JSTL这样的标签库能够很好的适配使用。还有一大优点是对于配置的直接性，框架层和应用程序类都能作为JavaBean来配置，在web控制器中也能对业务对象和验证器进行引用。对于开发而言是极其便利的事情。

- 【关键词】

便利 问卷调查 设计模式

- [Abstract]

  Nowadays, office is going to electric, the paper work had far away people, the porpulation work is electric. The questionnaire is also envole from divide use paper, now throught internet. Every comment need a plant to search and recogornize option, use to push entity problem, and advenge advantage and disadvantage.Therefore many questionnaire system base on web had be discovered. But many of them hadn't divild for team. Based on this constitution, I desigh this questionnarire system.

  All of all, used JSP language. And SpringMVC + JavaBean to devepment this system.

- [Keywords]
  convenient, questionnaire, common framework


[TOC]

## 第一章 绪论



#### 1.1 问卷系统背景

随着互联网的发展，越来越多的用户通过在Web上发布调查问卷，获得反馈数据，并分析得到有用的信息促进个人或公司的发展。本选题旨在分析、比较现有主流基于Web的调查问卷发布与分析系统的基础上，设计并实现一个更便于用户使用、快速获得有效信息的调查问卷发布与分析系统。

目前市面上主流的问卷系统为：腾讯问卷、问卷网、问卷星。

主流的问卷调查系统拥有的功能为：登录注册、问卷创建、问卷管理、数据分析、分享问卷、有偿填写问卷。

对于现有的问卷调查系统而言，所共有的功能为基础的问卷模块以及数据分析部分。这是问卷调查系统的核心，此次研发的系统也会对其进行开发。对于用户方面的问题，除了基础的登录注册外，还提供部分信息的修改。且对于市面上的问卷系统缺失的一个功能进行重点的研发，用户分组的管理。

#### 1.2 课题意义

问卷调查系统除了大面积扩散进行数据收集以外，对于很多特定人群的问卷也是一个刚需。如何有效的进行特定群体（例如：特定班级/年级的学生、公司内部特定部门等）进行问卷调查，是此次研究的一个主要方向。对于用户创建者而言，批量建立账号后，通过链接使成员进行问卷填写，在管理问卷时可以看到完成人数，能在很大程度上满足对特定人群的调查。

#### 1.3 研究内容

此次研发的系统主要功能是：登录注册、个人信息修改、问卷创建、问卷管理、数据分析、分享问卷、用户分组信息管理。

第一章：主要阐述问卷系统的背景和来源，以及这次开发的系统的实际意义与现实意义。简单介绍了问卷实现的原理，以及论述了论文主要的工作。

第二章：问卷系统的可行性分析，重点在于软件开发时使用工具已经在什么环境下进行的开发。包括安卓的行业概述，操作系统的架构和应用程序的分析、常见的数据库以及数据管理的要求。

第三章：系统设计。对系统的功能进行概要分析，同时展示系统逻辑和物理两方面的内容，再介绍了系统包含的各个功能进行详细的介绍。

第四章：系统实现，从客户端与服务端两个方面介绍，主要对各个模块例如问卷创建，问卷修改，问卷分析进行详细的介绍，以及功能和系统关键代码的呈现。

第五章：系统测试，描述了系统的测试用例以及系统的各个部分的完成情况。

第六章：总结与展望，主要介绍了项目完成的经验，存在的不足以及缺陷，最后是对于未来的一些展望。

#### 1.4 设计思想

基于web端设计，以JSP核心设计。使用JavaBean + SpringMVC架构进行编写。通过M（model）V（view）C（control）三层来实现系统的功能。意义在于，用户的输入与输出均为JSP页面，即

## 第二章 问卷系统可行性分析

需求分析是软件分析中的一个重要步骤。它的基本任务是要准确地分析出系统应用者的需要，以及系统目标必须具备哪些功能。这些功能必须准确地，完整地体现出用户的要求。

#### 2.1 行业概述

目前市面上主流的问卷系统为：腾讯问卷、问卷网、问卷星。

#### 2.2 开发的工具和环境

开发环境：IntelliJ IDEA 2017.3.5

服务器：Tomcat 9.0

语言：Java、html、javascript

#####2.2.1 编程语言

使用java与数据库结合。由于java可在各个平台都能运行，可以用来开发多数应用程序。作为面向对象的编程语言，很多方面都接近于人类的思想。

##### 2.2.2 技术路线

对于工具的选择，Eclipse是很好的一个平台，但是IDEA也有很多值得使用的地方。对于各类的加持，我认为IDEA更适用于此项目的开发。所以我选择了IDEA作为我的开发工具。

JDK可以说是必备的东西，没有JDK无法进行Java的开发。在按照JDK之后，进行各端的配置。Tomcat是服务器的设置，用来作为服务端的。

##### 2.2.3 用户要求

对于用户而言，只需要会键盘、鼠标基本的操作，即可使用本系统。界面整体很容易被理解，功能模块一一对应，没有很复杂的层级关系。用户可以很轻易的上手体验，包括创建属于自己的一份问答系统。

##### 2.2.4 运行环境

IntelliJ IDEA 2017.3.5

Tomcat 9.0

####2.3 基于数据库实现设计

##### 2.3.1 常用的数据库软件

此次开发使用的是MySQL数据库：MySQL是一个关系型数据库管理系统，由瑞典MySQL AB 公司开发，目前属于Oracle旗下产品。MySQL 是最流行的关系型数据库管理系统之一，MySQL是一种关系数据库管理系统，关系数据库将数据保存在不同的表中，而不是将所有数据放在一个大仓库内，这样就增加了速度并提高了灵活性。
MySQL所使用的 SQL 语言是用于访问数据库的最常用标准化语言。MySQL 软件采用了双授权政策，分为社区版和商业版，由于其体积小、速度快、总体拥有成本低，尤其是开放源码这一特点，一般中小型网站的开发都选择 MySQL 作为网站数据库。

##### 2.3.2 数据库表

分为Question、Option、User、Text、

##### 2.3.3 数据库设计



## 第三章 基于web的问卷系统设计

#### 3.1 问卷系统功能

系统功能是系统核心的概述，以及对整体思想的整理。

##### 3.1.1 功能描述

用户模块：

登录：用户通过账号密码进行登录，登陆之后可以进行查看管理自己的问卷等功能。

注册：提供给用户注册自己的账户。

修改：让用户可以修改自己的密码，描述等内容，但是不能修改账户名。

问卷模块

问卷创建：系统的核心部分，创建问卷。主要提供了创建单选，多选和文本框这几类。对于题目和选项可以根据用户的需求自行添加，在系统中没有对数量作出限制。

问卷修改：对于用户自己创建的问卷，可以随时进行修改其内容。包括问卷名、问卷题目、题目的各个选项等

问卷删除：对于用户自己创建的问卷，可以随时删除。

问卷分析：对于用户自己发布的问卷，提供数据分析的功能，供给用户使用。用户可以通过此功能了解到问卷填写的情况，根据这些内容来改善自己的团队或其他。

团队模块：系统的特色功能，提供给用户管理自己的团队，以及创建问卷之后查看团队内的完成情况。

##### 3.1.2 界面布局设计

Web前端层的设计和实现中，充分利用的JavaScript的强大控制功能，并且在某些页面上采用了div + css组合设计方法。在系统后台，页面采用框架布局，页面左边显示菜单，中间显示操作页面。

后台界面的设计主要依据功能模块来划分，论文重点阐述问卷管理模块的设计，这也是后台的核心部分。

#### 3.2 系统框架图

##### 3.2.1 系统逻辑流程图

##### 3.2.2 系统物理架构图

#### 3.3 接口设计

##### 3.3.1 用户接口

##### 3.3.2 外部接口

##### 3.3.3 内部接口

##第四章 基于web的问卷系统实现

#### 4.1 服务端模块

本系统在持久层主要使用了3种设计模式：DAO模式、VO模式、简单工厂模式。

DAO（数据访问对象）模式：

数据访问对象（DAO）模式使用数据访问对象来封装和抽象对所有数据源的访问，它管理着与数据源的连接以便于检索和存储数据，为业务对象提供了透明的底层数据访问实现。DAO模式完全包装数据的读取和操纵，并包装与数据库交互的数据访问API，它用数值对象包装从数据库读取和发送到数据库的数据，与业务层进行通信。DAO模式提供的灵活性是由于应用程序并不直接访问数据源，而是创建DAO对象，用其访问数据源。读取数据时，可以用数值对象保存取得的数据。例如： 

——————————SurveyDAO.java begin——————————

……

public interface SurveyDAO {

 boolean addSurvey(Survey survey);//添加问卷

 boolean updateSurvey(Survey survey);//更新问卷

 boolean delSurvey(Long surveyId);//删除问卷

……

}

——————————SurveyDAO.java end——————————

VO（值对象）模式：

使用值对象能够减少使用实体bean时需要的远程调用的次数。我们使用值对象来封装业务数据，用相应的方法调用来设置和检索值对象。当客户端向实体bean请求业务数据时，该实体bean可以构造值对象，用属性值来填充，并且将值对象传送给客户端。同样道理，客户端向实体bean提交数据时，也采用值对象这一办法。 

———————————Question.java begin————————

 ……

public class Question  {

​       private Long QId;

 private Long survey;

 private Long QType;

 public Long getQId() {//取得问题ID

​       return this.QId;

 }

 public void setQId(Long QId) {//设置问题ID

​       this.QId = QId;

 }

 public Long getSurvey() {//获取问卷ID

​       return this.survey;

 }

}

……

———————————Question.java end————————

系统中所以的数据库实体，都被封装成了这样的VO。例如,页面上要数据库中添加一个问卷，那么首先页面把数据发送到控制层的SERVLET，在该SERVLET中通过页面传过来的参数构造一个VO，然后把这个VO传递给DAO对象，DAO对象最后完成对数据库的控制操作。

简单工厂模式：

专门定义一个类来负责创建其他类的实例，被创建的实例通常都具有共同的父类。它又称为静态工厂方法模式，属于类的创建型模式。简单工厂模式的实质是由一个工厂类根据传入的参数，动态决定应该创建哪一个产品类（这些产品类继承自一个父类或接口）的实例。

————————————DAOFactory.java begin—————————

public class DAOFactory {

​       private DAOFactory(){

​       }

​       public static SurveyDAO getSurveyDAO(){

​              return new SurveyDAOimpl();//返回问卷DAO的实现类

​       }

​       public static QuestionDAO getQuestionDAO(){

​              return new QuestionDAOimpl();//返回问题DAO的实现类

​       }

}

————————————DAOFactory.java end—————————

本工厂类使用了多方法工厂，隔离上层与数据库底层，使上层方法不用关心底层采用何种数据库实现，系统如果要迁移到其他数据库上，也只需实现相应的DAO接口，然后在DAOFactroy类中修改返回的实现类即可。 

本系统涉及的业务逻辑相对简单，因此在设计的时候，我们将其并入MVC控制层，在控制层中直接调用DAO处理对象持久化操作。 

————————————SurveyManage.java begin————————

…

public class SurveyManage extends HttpServlet {

​       private static final long serialVersionUID = -1737458302140188798L;

​       public void doGet(HttpServletRequest request, HttpServletResponse response)

​                     throws ServletException, IOException {

​              PrintWriter out=response.getWriter();

​              if(“AddSurvey”.equals(request.getParameter(“op”))){

​                     SurveyDAO surveydao=DAOFactory.getSurveyDAO(); //获取DAO对象

​                     Survey survey=new Survey();//构造VO对象

​                     survey.setSName(request.getParameter(“Survey_name”));//给VO对象赋值

​                     survey.setSAuthor(request.getParameter(“Survey_author”));

​                     …

​                     oolean ret=surveydao.addSurvey(survey);//调用DAO对象方法执行数据库操作

​                     if(ret==true)

​                     response.sendRedirect(“../admin/OpResult.jsp?op=SurveyAdd&ret=true”);//根据返回结果转发页面

​                     else

​       response.sendRedirect(“../admin/OpResult.jsp?op=SurveyAdd&ret=false”);

​                      ……

​              }

}

————————————SurveyManage.java end ————————

##### 4.1.1 登录

#####4.1.2 注册

##### 4.1.3 修改

##### 4.1.4 问卷创建

#####4.1.5 问卷分析

#### 4.2 客户端模块

##### 4.2.1 登录界面

##### 4.2.2 注册页面

#####4.2.3 我的主页

##### 4.2.4 问卷界面

## 第五章 基于web的问卷系统测试

## 第六章 总结与展望

通过这次毕业设计，我从零开始构建出了一个完整的问卷调查系统。在设计的过程中，遇到了许多从未想过的问题。由最开始进行数据库的构建，在自认为完善的情况下，进行编写代码的时候发现有很多不足。此时再反过来修改数据库的字段。造成了很大的麻烦，在代码层面需要修改很多地方。这样的错误，导致做了许多无用功，这是我在日后的学习和工作中应当极力避免的情况。在今后进行数据库建立的时候，应当更仔细的考虑到可能需要的字段以及与其他表的联系，减少对于数据库修改。

除此之外，在代码编写的过程中，我也认识到了框架的便利性。在最开始进行编写的时候，没有进行过系统化的规划，导致代码整体结构非常散乱。编写过程中，改用了SpringMVC框架，代码整体的可读性瞬间得到了提高，并且在功能实现的导向上也得到很大程度的改善。模型、功能、界面的分开，让每个模块的指向性更为明确，每个模块只做当前模块应当实现的功能。无论从阅读代码，或是代码的修改层面，都是一个极大的改善，让代码变得更易于编写。并且，通过这种方式，各个文件所做的事更明显，在出错的时候，能更快的定位至特定文件，这样在效率上提升了数倍。

这是通过此次编写，我得到关于代码层面的心得体会。同时，我也感到自己学习的局限性。在学习完书本知识后，如何与实践集合，而不是只将概念性的东西停留在概念。毕竟学习的内容，最终不付诸实践将只是概念。今后我也会更加注重学习与实践的相结合。此次代码的编写，实现了一个问卷系统核心的大部分功能：创建、修改、删除、分析，以及我认为目前市面上欠缺的团队管理功能。但是我认为，在代码的编写上仍有极大的提升空间。毕竟现在的数据量过少，没有展现出效率上的缺陷。若数据量够庞大的时候，我目前的代码不足以快速的响应请求。这是值得优化的部分，且对于团队的管理暂时只是按照自己的意愿进行的构建，不确定是否能在实际生活中胜任用户的要求，需要用户实际体验过后才能得出相应的结论，并针对问题进行相应的改善。

若有可能，系统的UI确实需要进一步优化。毕竟在基础功能相同的情况下，一个良好的界面更能引起人们使用的欲望。且，互联网的发展速度之快，用户已经不再满足于解决问题，而是需要界面的美观性，这是系统需要改进的一大点。但是由于本人的设计理念有限，做出来的系统确实无法拿上台面。只适用于部分只需要功能的用户使用，我相信团队管理能够使得问卷系统更具有价值。

## 致谢

本文之所以能够顺利完成，我在此由衷的感谢陈君老师。在陈君老师的指导下，我才能从论文选题上有了明确的目标。陈君老师帮助我确定了我研究的方向和主要路线，并且多次在研究过程中帮助我，不时提供给我关键的意见，让我能在不断的试错过程中走向正道。并且，陈君老师提供给我必要的参考资料，让我能在代码研究过程中少走弯路。

在写论文期间，陈君老师提供了很多宝贵的意见，让我能及时发现自己的不足，且在编写过程中不断完善，最终完成了这一次毕业论文，我由衷的感谢陈君老师给予了我莫大的帮助。通过这次的毕业论文，我从中收获的东西必定能够受益终生。在不断的完善过程中，逐步将自己漏洞补上，这样的过程让我感觉到自己在逐步成长，并且在逐步的将自己的知识漏洞补全。感谢在此过程中给予过我帮助的老师和同学们，是你们让我这次论文的编写得以完成。

最后，感谢各位答辩老师的鞭策与鼓励。

## 参考文献

## 附录A

## 附录B 英文翻译

指导教师制定与专业相关的外文文献内容，由学生独立翻译成中文，其外文文献内容不得少于3000字符。译文和原文附于附录部分，按照正文格式进行排版。若原文没有电子版只是原版的复印件，复印件装订在内可不计页码。 